# Step 09 — CRT Reboot Success

**Date:** 2026-02-21
**Action:** Fresh reflash, Phase 1 + Phase 2, reboot into CRT
**Result:** SUCCESS — System booted into X11/CRT via syslinux `DEFAULT crt` with all fixes applied

---

## System State

| Check | Value |
|---|---|
| Version | `43-dev-13c569bd4a 2026/02/16 18:50` |
| Display stack | **X11** |
| Kernel cmdline | `BOOT_IMAGE=/crt/linux ... mitigations=off usbhid.jspoll=0 xpad.cpoll=0 drm.edid_firmware=DP-1:edid/ms929.bin video=DP-1:e` |
| Phase flag | **NOT SET** (Phase 2 completed, flag deleted) |

---

## Syslinux — Correct State

All three fixes confirmed working:

1. **MENU HIDDEN preserved** — boot menu not shown (CRT-safe)
2. **TIMEOUT 10** — original 1-second timeout preserved (not changed to 30)
3. **DEFAULT crt** — CRT boots silently without menu interaction
4. **LABEL crt preserved** — not destroyed by syslinux template overwrite
5. **CRT APPEND has kernel params** — `drm.edid_firmware=DP-1:edid/ms929.bin video=DP-1:e`
6. **Wayland APPEND clean** — no CRT params injected

```
DEFAULT crt
UI menu.c32

TIMEOUT 10
TOTALTIMEOUT 300

SAY Booting Batocera.linux...

MENU CLEAR
MENU TITLE Batocera.linux
MENU HIDDEN

LABEL batocera
	MENU LABEL Batocera HD - Wayland (^normal)
	LINUX /boot/linux
	APPEND label=BATOCERA console=tty3 quiet loglevel=0 vt.global_cursor_default=0
	INITRD /boot/initrd.gz

LABEL verbose
	MENU lABEL Batocera HD - Wayland (^verbose)
	LINUX /boot/linux
	APPEND label=BATOCERA vt.global_cursor_default=0
	INITRD /boot/initrd.gz

LABEL crt
	MENU DEFAULT
	MENU LABEL Batocera CRT (X11)
	LINUX /crt/linux
	APPEND label=BATOCERA console=tty3 quiet loglevel=0 vt.global_cursor_default=0 mitigations=off  usbhid.jspoll=0 xpad.cpoll=0 drm.edid_firmware=DP-1:edid/ms929.bin video=DP-1:e
	INITRD /crt/initrd-crt.gz
```

---

## CRT Display Configuration

| Config | State |
|---|---|
| `10-monitor.conf` | Created — eDP-1 ignored, DP-1 enabled |
| `15-crt-monitor.conf` | Generated by `boot-custom.sh` — DP-1 bound, HorizSync 15-16.5, VertRefresh 49-65 |
| `20-modesetting.conf` | Created — modesetting DDX, TearFree=false, VRR=false |
| `20-amdgpu.conf` | Renamed to `.bak` |
| `20-radeon.conf` | Renamed to `.bak` |
| `/lib/firmware/edid/ms929.bin` | 128 bytes |
| `/boot/boot-custom.sh` | Present |
| `batocera-save-crt-overlay` | Present and executable |

## Boot / Disk

| Check | Value |
|---|---|
| `/boot` | 10G, 8.9G used, 1.2G free |
| `/userdata` | 1.8T, 4.7G used, 1.7T free |
| `/boot/crt/overlay` | 100 MB |
| `/boot/crt/` files | All 4 present + overlay |
